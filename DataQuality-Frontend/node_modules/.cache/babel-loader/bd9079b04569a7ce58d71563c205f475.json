{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mandy\\\\IdeaProjects\\\\DataQuality-Frontend\\\\src\\\\components\\\\map\\\\RightPanel\\\\PanelCharts\\\\Election.js\";\nimport React, { useContext, useState } from 'react';\nimport { Divider, Popover, Typography, Table } from 'antd';\nimport Slider from \"react-slick\";\nimport { Pie } from 'react-chartjs-2';\nimport * as Constants from 'constants/constants';\nimport HistoryContext from 'contexts/HistoryContext';\nimport HeaderPanel from '../../HeaderPanel/HeaderPanel';\nimport { message } from 'antd';\nconst {\n  Paragraph\n} = Typography;\n\nvar myModule = require('../../HeaderPanel/HeaderPanel');\n\nexport default function Election(props) {\n  const handleAddHistory = useContext(HistoryContext).handleAddHistory;\n  const [rerender, setRerender] = useState(false);\n  const [data, setData] = useState(props.data); //const [selectedElection, setSelectedElection] = useState(Constants.ELECTIONS[0]);\n\n  const columns = [{\n    title: 'Party',\n    dataIndex: 'party',\n    key: 'party'\n  }, {\n    title: 'Votes',\n    dataIndex: 'votes',\n    key: 'votes',\n    render: (votes, record, index) => React.createElement(Paragraph, {\n      editable: {\n        onChange: value => onChange(value, index)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, votes + \"\"),\n    width: 100\n  }, {\n    title: 'Percent',\n    dataIndex: 'percent',\n    key: 'percent'\n  }]; // const sum = props.data.reduce((a, b) => a + b);\n  // const data = props.data.map((item, index) => {\n  //     return {\n  //         key: index,\n  //         party: Constants.PARTIES[index],\n  //         votes: item,\n  //         percent: (item/sum*100).toFixed(1)\n  //     }\n  // });\n\n  function getData() {\n    let displayData = [];\n    let sum = 0;\n    message.info(myModule.selectedElection);\n\n    for (let i in data) {\n      message.info(i + \" -> \" + data[i]);\n      displayData.push(data[i]);\n      sum += data[i];\n    }\n\n    displayData = displayData.map((item, index) => {\n      return {\n        key: index,\n        party: Constants.PARTIES[index],\n        votes: item,\n        percent: (item / sum * 100).toFixed(1)\n      };\n    });\n    return displayData;\n  }\n\n  function onChange(value, index) {\n    props.data[index] = Number(value);\n    handleAddHistory(`Changed ${props.name}'s ${Constants.PARTIES[index]} votes to ${value}`);\n    setRerender(!rerender);\n  }\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    className: \"chartHeader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Election Data\"), React.createElement(Popover, {\n    placement: \"topRight\",\n    title: \"Source of Data\",\n    content: React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Harvard Election Data Archive\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"sourceText\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sourceBg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Source of Data\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(Slider, {\n    arrows: false,\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Pie, {\n    data: {\n      labels: Constants.PARTIES,\n      datasets: [{\n        data: data.map(item => item.votes),\n        backgroundColor: ['#FF6384', '#36A2EB', '#B2EB70', '#FFCE56'],\n        hoverBackgroundColor: ['#FF6384', '#36A2EB', '#B2EB70', '#FFCE56']\n      }]\n    },\n    borderWidth: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(Table, {\n    columns: columns,\n    dataSource: getData(),\n    pagination: false,\n    size: 'small',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["C:/Users/mandy/IdeaProjects/DataQuality-Frontend/src/components/map/RightPanel/PanelCharts/Election.js"],"names":["React","useContext","useState","Divider","Popover","Typography","Table","Slider","Pie","Constants","HistoryContext","HeaderPanel","message","Paragraph","myModule","require","Election","props","handleAddHistory","rerender","setRerender","data","setData","columns","title","dataIndex","key","render","votes","record","index","onChange","value","width","getData","displayData","sum","info","selectedElection","i","push","map","item","party","PARTIES","percent","toFixed","Number","name","labels","datasets","backgroundColor","hoverBackgroundColor"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Divider, Popover, Typography, Table } from 'antd';\r\nimport Slider from \"react-slick\";\r\nimport { Pie } from 'react-chartjs-2';\r\nimport * as Constants from 'constants/constants';\r\nimport HistoryContext from 'contexts/HistoryContext';\r\nimport HeaderPanel from '../../HeaderPanel/HeaderPanel'\r\nimport { message } from 'antd';\r\n\r\nconst { Paragraph } = Typography;\r\nvar myModule = require('../../HeaderPanel/HeaderPanel');\r\n\r\nexport default function Election(props) {\r\n    const handleAddHistory = useContext(HistoryContext).handleAddHistory;\r\n    const [rerender, setRerender] = useState(false);\r\n    const [data, setData] = useState(props.data);\r\n    //const [selectedElection, setSelectedElection] = useState(Constants.ELECTIONS[0]);\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Party',\r\n            dataIndex: 'party',\r\n            key: 'party'\r\n        },\r\n        {\r\n            title: 'Votes',\r\n            dataIndex: 'votes',\r\n            key: 'votes',\r\n            render: (votes, record, index) => (\r\n                <Paragraph editable={{ onChange: value => onChange(value, index)}}>{votes+\"\"}</Paragraph>\r\n            ),\r\n            width: 100\r\n        },\r\n        {\r\n            title: 'Percent',\r\n            dataIndex: 'percent',\r\n            key: 'percent',\r\n        }\r\n    ];\r\n\r\n    // const sum = props.data.reduce((a, b) => a + b);\r\n    // const data = props.data.map((item, index) => {\r\n    //     return {\r\n    //         key: index,\r\n    //         party: Constants.PARTIES[index],\r\n    //         votes: item,\r\n    //         percent: (item/sum*100).toFixed(1)\r\n    //     }\r\n    // });\r\n\r\n    function getData() {\r\n        let displayData = [];\r\n        let sum = 0;\r\n        message.info(myModule.selectedElection);\r\n        for(let i in data) {\r\n            message.info(i+\" -> \"+data[i]);\r\n            displayData.push(data[i]);\r\n            sum += data[i];\r\n        }\r\n        displayData = displayData.map((item, index) => {\r\n            return {\r\n                key: index,\r\n                party: Constants.PARTIES[index],\r\n                votes: item,\r\n                percent: (item/sum*100).toFixed(1)\r\n            }\r\n        });\r\n        return displayData;\r\n    }\r\n\r\n    function onChange(value, index) {\r\n        props.data[index] = Number(value);\r\n        handleAddHistory(`Changed ${props.name}'s ${Constants.PARTIES[index]} votes to ${value}`);\r\n        setRerender(!rerender);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Divider />\r\n            <h1 className=\"chartHeader\">Election Data</h1>\r\n            <Popover\r\n                placement=\"topRight\" \r\n                title={\"Source of Data\"}\r\n                content={<p>Harvard Election Data Archive</p>}\r\n            >\r\n                <p className=\"sourceText\"><span className=\"sourceBg\">Source of Data</span></p>\r\n            </Popover>\r\n            <br />\r\n            <Slider \r\n                arrows={false}\r\n                dots={true}\r\n                infinite={true}\r\n                speed={500}\r\n                slidesToShow={1}\r\n                slidesToScroll={1}\r\n            >\r\n                <Pie \r\n                    data={{\r\n                        labels: Constants.PARTIES,\r\n                        datasets: [{\r\n                            data: data.map(item => item.votes),\r\n                            backgroundColor: [\r\n                                '#FF6384',\r\n                                '#36A2EB',\r\n                                '#B2EB70',\r\n                                '#FFCE56',\r\n                    \r\n                            ],\r\n                            hoverBackgroundColor: [\r\n                                '#FF6384',\r\n                                '#36A2EB',\r\n                                '#B2EB70',\r\n                                '#FFCE56',\r\n                            ]\r\n                        }]\r\n                    }\r\n                    }\r\n                    borderWidth = {100}\r\n                />\r\n                <Table\r\n                    columns={columns}\r\n                    dataSource={getData()}\r\n                    pagination={false}\r\n                    size={'small'}\r\n                />\r\n            </Slider>\r\n        </React.Fragment>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}