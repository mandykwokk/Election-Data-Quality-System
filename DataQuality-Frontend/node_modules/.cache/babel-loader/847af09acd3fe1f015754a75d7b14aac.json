{"ast":null,"code":"import Axios from 'axios';\nimport * as Constants from 'constants/constants';\nexport default class BorderJsonRequester {\n  async getStateBorders() {\n    let res = await Axios.get(`state`);\n    res.data.forEach(d => {\n      d.type = \"Feature\";\n      d.geometry = JSON.parse(d.geometry);\n      d.elections = JSON.parse(JSON.stringify(d.elections));\n    });\n    return res.data;\n  }\n\n  async getCdBorders() {\n    try {\n      const axioRequests = Constants.STATES.map(state => {\n        return Axios.get(`/district/${state}`);\n      });\n      let res = await Axios.all(axioRequests);\n      res = res.map(data => {\n        data.data.forEach(d => {\n          d.type = \"Feature\";\n          d.geometry = JSON.parse(d.geometry);\n          d.elections = JSON.parse(JSON.stringify(d.elections));\n        });\n        return data.data;\n      });\n      return res;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getPrecinctBorder(district) {\n    try {\n      const res = await Axios.get(`/precinct/${district}`);\n      res.data.forEach(d => {\n        d.type = \"Feature\";\n        d.geometry = JSON.parse(d.geometry);\n        d.originalGeometry = JSON.parse(d.originalGeometry);\n        d.histories.forEach(history => {\n          history.comments = history.comments.reverse();\n        });\n        d.elections = JSON.parse(JSON.stringify(d.elections));\n      });\n      return res.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async getNpBorders() {\n    const res = await Axios.get('/data/np/np.geojson', {\n      baseURL: \"\"\n    });\n    return res.data;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/mandy/IdeaProjects/DataQuality-Frontend/src/requesters/BorderJsonRequester.js"],"names":["Axios","Constants","BorderJsonRequester","getStateBorders","res","get","data","forEach","d","type","geometry","JSON","parse","elections","stringify","getCdBorders","axioRequests","STATES","map","state","all","error","console","log","getPrecinctBorder","district","originalGeometry","histories","history","comments","reverse","getNpBorders","baseURL"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport * as Constants from 'constants/constants';\r\n\r\nexport default class BorderJsonRequester {\r\n    async getStateBorders() {\r\n        let res = await Axios.get(`state`);\r\n        res.data.forEach(d => {\r\n            d.type = \"Feature\";\r\n            d.geometry = JSON.parse(d.geometry);\r\n            d.elections = JSON.parse(JSON.stringify(d.elections))\r\n        });\r\n        return res.data;\r\n    }\r\n\r\n    async getCdBorders() {\r\n\r\n        try {\r\n            const axioRequests = Constants.STATES.map(state => {\r\n                return Axios.get(`/district/${state}`);\r\n            });\r\n            let res = await Axios.all(axioRequests);\r\n            res = res.map(data => {\r\n                data.data.forEach(d => {\r\n                    d.type = \"Feature\";\r\n                    d.geometry = JSON.parse(d.geometry);\r\n                    d.elections = JSON.parse(JSON.stringify(d.elections))\r\n                })\r\n                return data.data\r\n            });\r\n            return res;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    async getPrecinctBorder(district) {\r\n        try {\r\n            const res = await Axios.get(`/precinct/${district}`);\r\n            res.data.forEach((d) => {\r\n                d.type = \"Feature\";\r\n                d.geometry = JSON.parse(d.geometry);\r\n                d.originalGeometry = JSON.parse(d.originalGeometry);\r\n                d.histories.forEach(history => {\r\n                    history.comments = history.comments.reverse();\r\n                })\r\n                d.elections = JSON.parse(JSON.stringify(d.elections))\r\n            });\r\n            return res.data;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    async getNpBorders() {\r\n        const res = await Axios.get('/data/np/np.geojson', { baseURL: \"\" });\r\n        return res.data;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}